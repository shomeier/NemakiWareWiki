# OpenCMIS Workbench TCK(Test Compatibility Kit)
OpenCMIS Workbenchは、OpenCMIS(Java)をベースにしたデスクトップCMISクライアントです。  
ナビゲーションだけでなく、TCK(Test Compatibility Kit)と呼ばれるCMIS準拠をテストするためのツールキットも含まれています。  

TCK自体はCMISワークベンチからは独立したコンポーネントであり、```chemistry-opencmis-test-tck-0.13.0.jar``` ライブラリの形で提供されています。  
ライブラリではJUnit形式ではありませんがJUnitに似たような、独自のテストグループという層にテスト群がまとめられています。  
NemakiWareではTCKをJUnit形式で予めラップしたものを提供しています。  

## 実行方法
- はじめに、NmakiWware ```core```アプリケーションを起動します。  
- ```jp.aegif.nemaki.test.tck.tests.AllTests``` をJUnitテストとして、Eclipse等から起動します。  
- もしくは、```core```ディレクトリで```mvn verify -P product```でもテストが実行されます。  
  ```mvn verify```はサーバを自分で起動/シャットダウンするので、ポート8080(デフォルト)が使用可能かどうか予め確認しておいてください。  

## Setting
- ```src/test/resources.cmis-tck-parameters.properties```
  - specifies CMIS server endpoint to connect.
- ```src/test/resources.cmis-tck-filters.properties```
  - specifies which test or test group to execute in AllTests running by boolean value.

Test granularity can be modified via:
- ```src/test/resources.cmis-tck-filters.properties```
- running directly the test or test group you wanted to run, which is along with @Test annotation.  

## Report
TWD

## Note
- CMIS TCK, as of version 0.13.0, always fails in VersioningSmokeTest.  
  See [CMIS-935](https://issues.apache.org/jira/browse/CMIS-935).  
  It might be useful to skip VersioningSmokeTest if you are using version 0.13.0, though this bug is already fixed in 0.14.0.  
- Query tests is by default skipped in NemakiWare because the cron intervals and speed of Solr indexing does not catch up with the progress of the test.  
  If you want to test the CMIS query compliance, overwrite ```solr.indexing.force``` to _true_ in ```nemakiware.properties```.  
See [here](https://github.com/aegif/NemakiWare/wiki/Configuration%28Repository%29_-Property).

# Original tests via CMIS protocol
```jp.aegif.nemaki.test.nemaki``` package.  
These tests are written as JUnit tests and presuppose the server is running, as much as TCK.  

## JMeter

# Unit tests
Now lack of unit tests and the test-driven development are serious issue.  
Baisically CMIS functions and performance can be ensured or measured those above tests, it is urgent to write down unit tests for future enhancement and refactoring.  